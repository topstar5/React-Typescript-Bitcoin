import * as React from 'react';
import { Link } from 'react-router-dom';
import AccountInformation from 'Components/MyAccount/AccountInformation/index';
import 'Styles/table.less';

const styles = require('./my-account.css');

interface MyAccountProps{

  activeIndex?: number;
  leftMenuArray?: { text: string, template: any, title: string }[];
  className?: string;
  onChange?(leftMenuArray: {}): void;
}

class MyAccount extends React.Component<MyAccountProps, any> {

  public static defaultProps: MyAccountProps = {
    activeIndex: 0,
    leftMenuArray: [
      {text: 'Account Information', template: <AccountInformation/>,
       title: 'Account Information Settings'},
      {text: 'CMB Settings', template: <AccountInformation/>,
       title: 'Coin Management Board Setting'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        '}
    ],
    className: 'active',
    onChange: () => {
      return;
    },
  };

  constructor(props) {
    super(props);
    this.state = {
      activeIndex: props.activeIndex,
    };
  }

  onChange(activeIndex: number) {
    return () => {
      this.setState({
        activeIndex,
      });
    };
  }

  render() {
    const { leftMenuArray }  = this.props;
    const { activeIndex } = this.state;

    return (
    <div className={`container-fluid ` + styles.wrapper }>
      <div className={styles.header}>
        <div className={styles.exchanges}>
          <Link to="/" className={styles.headingGoBack}>Go Back</Link>
          <span className={styles.headingText}>Account Settings</span>
        </div>
      </div>
      <div className={styles.mainPanel}>
        <div className={styles.tableHolder}>
          <div className={styles.leftPanel}>
              <ul>
                {leftMenuArray ? leftMenuArray.map((menu, index) =>
                  <li key={index}
                      className={styles.defaultMenuTab + ' ' + ((activeIndex === index) ? styles.activeMenuTab : '')}>
                    <a onClick={this.onChange(index).bind(this)}>
                      {menu.text}
                    </a>
                  </li>
                ) : ''}
              </ul>
          </div>
          <div className={styles.rightPanel}>
            {leftMenuArray[activeIndex].template}
          </div>
        </div>
      </div>
    </div>
    );
  }
}

export default MyAccount;
